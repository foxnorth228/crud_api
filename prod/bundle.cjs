(()=>{var e={371:(e,n,t)=>{t(738).config(Object.assign({},t(547),t(962)(process.argv)))},962:e=>{const n=/^dotenv_config_(encoding|path|debug|override)=(.+)$/;e.exports=function(e){return e.reduce((function(e,t){const r=t.match(n);return r&&(e[r[1]]=r[2]),e}),{})}},547:e=>{const n={};null!=process.env.DOTENV_CONFIG_ENCODING&&(n.encoding=process.env.DOTENV_CONFIG_ENCODING),null!=process.env.DOTENV_CONFIG_PATH&&(n.path=process.env.DOTENV_CONFIG_PATH),null!=process.env.DOTENV_CONFIG_DEBUG&&(n.debug=process.env.DOTENV_CONFIG_DEBUG),null!=process.env.DOTENV_CONFIG_OVERRIDE&&(n.override=process.env.DOTENV_CONFIG_OVERRIDE),e.exports=n},738:(e,n,t)=>{const r=t(147),o=t(17),s=t(37),i=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function c(e){console.log(`[dotenv][DEBUG] ${e}`)}const u={config:function(e){let n=o.resolve(process.cwd(),".env"),t="utf8";const i=Boolean(e&&e.debug),a=Boolean(e&&e.override);var l;e&&(null!=e.path&&(n="~"===(l=e.path)[0]?o.join(s.homedir(),l.slice(1)):l),null!=e.encoding&&(t=e.encoding));try{const e=u.parse(r.readFileSync(n,{encoding:t}));return Object.keys(e).forEach((function(n){Object.prototype.hasOwnProperty.call(process.env,n)?(!0===a&&(process.env[n]=e[n]),i&&c(!0===a?`"${n}" is already defined in \`process.env\` and WAS overwritten`:`"${n}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[n]=e[n]})),{parsed:e}}catch(e){return i&&c(`Failed to load ${n} ${e.message}`),{error:e}}},parse:function(e){const n={};let t,r=e.toString();for(r=r.replace(/\r\n?/gm,"\n");null!=(t=i.exec(r));){const e=t[1];let r=t[2]||"";r=r.trim();const o=r[0];r=r.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===o&&(r=r.replace(/\\n/g,"\n"),r=r.replace(/\\r/g,"\r")),n[e]=r}return n}};e.exports.config=u.config,e.exports.parse=u.parse,e.exports=u},147:e=>{"use strict";e.exports=require("fs")},37:e=>{"use strict";e.exports=require("os")},17:e=>{"use strict";e.exports=require("path")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var s=n[r]={exports:{}};return e[r](s,s.exports,t),s.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";t(371);const e=require("crypto");var n=t.n(e);const r=new Uint8Array(256);let o=r.length;function s(){return o>r.length-16&&(n().randomFillSync(r),o=0),r.slice(o,o+=16)}const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&i.test(e)},u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));const a=function(e,n,t){const r=(e=e||{}).random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0;for(let e=0;e<16;++e)n[t+e]=r[e];return n}return function(e,n=0){const t=(u[e[n+0]]+u[e[n+1]]+u[e[n+2]]+u[e[n+3]]+"-"+u[e[n+4]]+u[e[n+5]]+"-"+u[e[n+6]]+u[e[n+7]]+"-"+u[e[n+8]]+u[e[n+9]]+"-"+u[e[n+10]]+u[e[n+11]]+u[e[n+12]]+u[e[n+13]]+u[e[n+14]]+u[e[n+15]]).toLowerCase();if(!c(t))throw TypeError("Stringified UUID is invalid");return t}(r)};var l=function(e,n,t,r){return new(t||(t=Promise))((function(o,s){function i(e){try{u(r.next(e))}catch(e){s(e)}}function c(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,c)}u((r=r.apply(e,n||[])).next())}))};const f={"/api/users/:uuid":function(e,n,t){const r=t.split("/").filter((e=>e))[2];switch(e){case"GET":if(c(r)){const e=g(r);return e?[200,e]:[404,{}]}return[400,n];case"PUT":if(c(r)){const e=g(r);if(e){const n=p.findIndex((n=>n.id===e.id));return p[n].name=e.name,p[n].age=e.age,p[n].hobbies=e.hobbies,[200,p[n]]}return[404,{}]}return[400,n];case"DELETE":if(c(r)){const e=g(r);if(e){const n=p.findIndex((n=>n.id===e.id));return p.splice(n,1),[204,e]}return[404,n]}return[400,n];default:return[404,{}]}},"/api/users":function(e,n,t){switch(e){case"GET":return[200,p];case"POST":if(function(e){const n={name:"",age:0,hobbies:[""]};if(3!==Object.keys(e).length)return!1;let t=!0;for(let[r,o]of Object.entries(e)){if(!t)return!1;t=!1;for(let[e,s]of Object.entries(n))r!==e||typeof o!=typeof s||(t=!0)}return!0}(n)){const e=Object.assign({id:a()},n);return p.push(e),[201,e]}return[400,{}];case"DELETE":return p.length=0,[204,{}]}}},d=[];for(let e of Object.keys(f))d.push(e.split("/").filter((e=>e)));const p=[];function v(e,n){return!0===e.startsWith(":")&&"uuid"===e.slice(1)||e===n}function g(e){for(let n of p)if(e===n.id)return Object.assign({},n);return null}const h=require("http");var O=function(e,n,t,r){return new(t||(t=Promise))((function(o,s){function i(e){try{u(r.next(e))}catch(e){s(e)}}function c(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,c)}u((r=r.apply(e,n||[])).next())}))};const E=(0,h.createServer)();E.on("request",((e,n)=>O(void 0,void 0,void 0,(function*(){try{const t=e.url?e.url:"";let r;r="GET"!==e.method&&"DELETE"!==e.method?yield function(e){return O(this,void 0,void 0,(function*(){return new Promise((n=>{let t="";e.setEncoding("utf8"),e.on("data",(e=>{t+=e})),e.on("end",(()=>{n(JSON.parse(t))}))}))}))}(e):{};const[o,s]=yield function(e,n,t){return l(this,void 0,void 0,(function*(){const r=yield function(e){return l(this,void 0,void 0,(function*(){const n=e.split("/").filter((e=>e));let t=d.map((e=>e.slice(0)));t=t.filter((e=>e.length===n.length));for(let e=0;e<n.length;++e)t=t.filter((t=>v(t[e],n[e])));return t}))}(e);if(0===r.length)return[404,{}];if(1!==r.length)throw new Error(`Exist more then 1 available route that can process this url:${e}`);{const o="/"+r[0].join("/");for(let[r,s]of Object.entries(f))if(r===o)return s(n,t,e)}}))}(t,e.method,r);n.writeHead(o,{"Content-Type":"text/json"}),console.log("answer",s),n.end(JSON.stringify(s))}catch(e){n.writeHead(500,{"Content-Type":"text/json"}),e instanceof Error&&console.log(e.message),n.end(JSON.stringify(e))}})))),E.on("error",(e=>{console.log(`Something in server is wrong: ${e.message})`)})),E.listen(process.env.PORT),console.log(`The server started on port ${process.env.PORT}`)})()})();